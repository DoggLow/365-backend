@import 'application';
@import 'csshake.min';

/* exchange site vars
-------------------------------------------------------------- */

$gutter: 8px;
$min-width: 1180px;
$min-height: 620px;

$navbar-height: 50px;
$panel_table_header_high: 37px;
$gutter-2x: $gutter * 2;
$gutter-3x: $gutter * 3;
$gutter-4x: $gutter * 4;
$gutter-5x: $gutter * 5;
$gutter-6x: $gutter * 6;

$entry-height: 200px;

$my-loans-height: 160px;

$loan-book-height: $min-height - $navbar-height - $entry-height - $my-loans-height - $gutter-4x;

$up-text: rgb(77, 215, 16);
$down-text: rgb(208, 0, 23);
$up-text-fade: rgba(77, 215, 16, 0.9);
$down-text-fade: rgba(208, 0, 23, 0.9);


/* basic layout
------------------------------------------------ */

html,
body,
#wrap,
.content {
  height: 100%;
  @include user-select(none);
}

body {
  min-width: $min-width !important;
  min-height: $min-height !important;

  // fixed icon spin
  -webkit-font-smoothing: antialiased !important;
  -webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important;
  -webkit-tap-highlight-color: transparent !important;
  -webkit-focus-ring-color: transparent !important;

  * {
    -webkit-font-smoothing: antialiased !important;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important;
    -webkit-tap-highlight-color: transparent !important;
    -webkit-focus-ring-color: transparent !important;
  }

  a.hand-point {
    cursor: pointer;
    text-decoration: none;
  }
}

header {
  .bootstrap-switch {
    margin-top: -2px;
    border-color: $panel-default-border;
  }

  .bootstrap-switch.bootstrap-switch-focused {
    @include box-shadow(none);
    border-color: $panel-default-border;
  }

  .bootstrap-switch.bootstrap-switch-mini.bootstrap-switch-animate {
    margin-top: -2px;
    border: none;

    & .bootstrap-switch-handle-on.bootstrap-switch-success {
      padding: 6px 2px;
      font-size: 12px;
      color: white !important;
      background-color: $up-text-fade;
    }

    & .bootstrap-switch-handle-off.bootstrap-switch-default {
      padding: 6px 2px;
      font-size: 12px;
      color: white !important;
      background-color: $down-text-fade;
    }

    .bootstrap-switch-label {
      color: rgba(255,255,255,.5);
      padding: 6px 2px;
      font-size: 12px;
      background-color: #333;
    }

  }
}

#wrap {
  box-sizing: border-box;
}

.container-fluid {
  padding-left: 10px;
  padding-right: 10px;
}

.mask {
  position: absolute;
  top: $gutter-5x;
  left: $gutter;
  right: $gutter;
  bottom: $gutter;
  z-index: 900;
  background-color: white;
  p {
    margin-top: $gutter-3x;
  }
}


/* --------　panel　-------- */
.panel {
  margin-top: $gutter;
  margin-bottom: $gutter;

  &.panel-primary {
    .panel-body {
      padding-top: 2px;
      padding-bottom: 4px;
      padding-left: 16px;
      padding-right: 16px;
    }
  }

}


/* -------- layout position -------- */

#loan_book {
  .panel-body-content {
    height: $loan-book-height;
    .row {
      height: 100%;
      .col-xs-12 {
        height: 100%;
      }
    }
  }

  table.demands, table.offers {
    .new {
      background-color: #dff0d8;
      div { display: none; }
    }

    .obsolete {
      color: #444;
      .rate, .amount, .duration, g { color: #444; }
    }
  }
  .with_right_border {
    border-right: 1px solid #ccc;
  }
}

#my_open_loan_offers, #my_active_loans {
  .panel-body-content {
    height: $my-loans-height - $gutter-2x;

    .time, .rate, .duration, .amount {
      & > span { display: block; height: 16px; padding: 2px 0; }
    }

    .auto-renew {
      & > span.offer { text-decoration: underline; }
    }

    .action {
      & > span { text-decoration: underline; }
    }

    .empty-row {
      top: 50%;
      width: 99%;
      height: 0;
      padding: 0;
      color: $gray-light;
      text-align: center;
    }

    .label { margin: 0 1px; padding: 2px; }
  }
}

/* loan entry
-----------------------------------------------------*/
[data-lang=zh-cn] {
  #loan_entry {
    label.input-group-addon {
      min-width: 40px !important;
    }
  }

  .sideways li {
    direction: rtl;
    unicode-offeri: offeri-override;
    v { display: inline-block; @include transform(rotate(-270deg)); }
  }

}

#loan_entry {
  z-index: 999;

  .btn:focus, .btn:active:focus, .btn.active:focus {
    outline: 0 auto -webkit-focus-ring-color;
    outline-offset: -2px;
  }

  .form-group {
    label.input-group-addon {
      background-color: transparent;
      border: 0;
      padding: 3px 6px 0px 6px;
    }

    span.input-group-addon {
      min-width: 30px;
      text-align: center;
      border-radius: 0;
      padding: 0 $gutter 0 $gutter;
    }

    span.check {
      align-items: center;
      min-height: 32px;
      display: inline-flex;
      padding: 0px 4px 0px 4px;
    }

    input {
      text-align: right;
      padding-top: 6px !important;
      padding-bottom: 4px !important;
      padding-right: 6px !important;
      padding-left: 20px !important;
    }

    input[type="checkbox"] {
      width: 16px;
      height: 16px;
      margin: 8px;
    }
  }

  .label {
    font-size: inherit;
    background-color: transparent;
  }
  .label.label-info { color: $brand-info }
  .label.label-success { color: $brand-success }
  .label.label-danger { color: $brand-danger }

  span.status-info, .status-success, .status-danger {
    top: 0;
    left: 0;
    margin-left: 0;
    position: absolute;
    i.fa { margin-left: 4px; }
  }

  .row-tips {
    margin-top: 12px;
    margin-bottom: 8px;
    margin-left: 24px;
    margin-right: 24px;

    .unit {
      padding-left: 4px;
      text-transform: uppercase;
    }
  }
}

/* loan-book my-loans table
---------------------------------------------------*/

#loan_book, #my_open_loan_offers, #my_active_loans {
  table {
    margin-bottom: 0;

    thead {
      tr {
        border-bottom: 1px solid  #dddddd;
      }
    }

    tr.highlight {
      background-color: #f9f9f9;
    }

    th, td {
      padding: 4px;
      border: none;
      text-align: center;
    }
  }
}

.panel-body-content::-webkit-scrollbar { width: 0 !important }
.panel-body-content { overflow-y: auto; -ms-overflow-style: none; overflow: -moz-scrollbars-auto; }

.panel-heading {
  .pull-right + .pull-right {
    margin-right: 10px;
  }
}

.dropdown:hover .dropdown-menu {
    display: block;
}
